# HTTP

HTTP는 서버 / 클라이언트 모델을 따라 데이터를 주고받기 위한 가장 기초적인 프로토콜입니다.<br/>
HTTP는 인터넷에서 하이퍼텍스트를 교환하기 위한 통신 규약으로, 80번 포트를 사용하고 있습니다.<br/>
HTTP는 stateless 무 상태성 프로토콜이며, Method Path Version Headers Body 등으로 구성되어 있습니다.<br/>
stateless란 상태가 유지되지 않는 것으로 로그인 상태나 장바구니 등의 정보가 저장되지 않는다는 것입니다.<br/>

## HTTP 구조

![Screenshot from 2021-10-26 01-43-11](https://user-images.githubusercontent.com/81761175/139057759-49385c37-33b0-4fb4-821e-f9b69bbb778f.png)

HTTP의 구조는 요청과 응답이 동일합니다.<br/>
요청의 startLine은 말 그대로 요청의 첫 라인입니다.<br/>
여기서 구성되는 method는 get post put delete option 등등이 있고<br/>
request target은 request가 전송되는 목표 uri<br/>
version은 말 그대로 사용되는 HTTP 버전입니다.<br/>

Headers에는 요청이 전송되는 형식을 보내줍니다.<br/>
target의 host, (예를 들어서 google.com)<br/>
요청 보내는 클라이언트에 대한 정보를 담은 useAgent<br/>
해당 요청이 받을 수 있는 응답 accept<br/>
해당 요청이 끝난 후에 클라이언트와 서버의 연결 유무를 지시하는 connection<br/>
요청을 보내는 body의 타입을 나타내는 content type 등이 있습니다.<br/>

Body는 요청의 실제 메시지/데이터를 담고 있으며 body가 없는 request도 있습니다. (예를 들어서 get 요청)<br/>

응답의 구조는 요청과 거의 같으며 startline에는 상태 코드와 상태 메시지가 있습니다.<br/>

## HTTP 문제점

HTTP의 문제점은 첫 번째로 암호화 기능이 없어 중간자 공격에 취약하다는 점이 있고,<br/>

통신하려는 사이트가 신뢰할 수 있는지 확인이 불가합니다.<br/>
따로 확인 작업이 없기 때문에 다른 사이트가 통신하려는 사이트로 위장이 가능합니다.<br/>
예를 들어서 네이버에 접속했는데 접속한 웹 사이트가 찐 네이버인지 확인이 힘들다는 겁니다.<br/>

마지막으로 통신 내용이 변경 가능하다는 겁니다.<br/>
요청을 보낸 곳과 받은 곳의 출처가 정확히 일치하는지 확인할 길이 없습니다.<br/>

# HTTPS

HTTPS는 앞서 설명드린 http에 데이터 암호화가 추가된 프로토콜입니다.<br/>
HTTP와 다르게 443포트를 사용하며, 네트워크 상에서 중간에 제3자가 정보를 볼 수 없도록 <br/>
ssl 혹은 tls라는 알고리즘을 이용해 내용을 암호화하여 데이터를 전송합니다.<br/>

## HTTPS 특징

![Screenshot from 2021-10-26 01-59-52](https://user-images.githubusercontent.com/81761175/139059661-e34cb4f9-b486-4809-b55c-559b49d0a237.png)

HTTPS의 특징으로는 상호 키가 존재한다는 점입니다.<br/>
서로 다른 a와 b 키를 이용해 데이터를 암호화해서 중간자 공격에 대비하는 것인데요<br/>
최초에는 비대칭키 방식으로 대칭키를 공유하고 이후로는 대칭키로 통신합니다.<br/>
공개 키를 이용해 데이터를 암호화하고 비공개리,(개인키)를 이용해 데이터를 복호화 하는 방식입니다.<br/>
이 방식을 진행하기 앞서 서버와 클라이언트가 서로 확인하는 handShake를 진행합니다.<br/>
클라이언트가 임의의 데이터를 생성해서 서버에 보내면<br/>
서버는 응답으로 임의의 데이터와 CA 인증서를 클라이언트에 보냅니다.<br/>
클라이언트는 인증서가 진짜인지 브라우저에 내장된 CA들의 정보를 통해서 확인을 합니다.<br/>

여기서 CA (certificate authority)는 엄격한 인증 과정을 거친 인증 기관들의 디지털 인증 기관을 말합니다.<br/>
만약 브라우저에 내장된 CA들의 정보와 일치하지 않는다면 브라우저는 안전하지 않을 수 있다는 경고를 보여줍니다.<br/>

이로 인해서 중간자 공격에 대비가 가능하고 신뢰할 수 있는 사이트인지를 확인할 수 있습니다.<br/>

# 차이점

http와 https의 차이점은 보안이라고 할 수 있는데요<br/>
http는 암호화가 추가되지 않았기 때문에 보안에 취약합니다.<br/>
반대로 https는 암호화가 추가되어서 안전하게 데이터를 주고받을 수 있습니다.<br/>

두 번째로 https를 이용하면 암호화 복호화의 과정이 필요하기 때문에 http보다 속도는 느립니다.<br/>
하지만 이는 오늘날에는 거의 체감하지 못할 정도의 차이라고 합니다.<br/>

https는 인증서를 발급하고 유지하기 위한 추가 비용이 발생합니다.<br/>
앞서 말씀드린 CA에서 발급받는 인증서를 이용하기 위해서는 비용을 결제해야 합니다.<br/>

그래서 보안이 필요한 환경에서는 https를 단순 정보 조회만을 처리한다면 http를 사용하는 게 적절하다고 합니다.<br/>


